# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      - KOMGA_URL
      - KOMGA_USERNAME
      - KOMGA_PASSWORD
      - KOMGA_LIBRARY
    properties:
      KOMGA_URL:
        type: string
        title: "Komga Server URL"
        description: "URL of your Komga server (e.g., http://localhost:25600)"
        examples:
          - "http://localhost:25600"
          - "http://192.168.1.100:25600"
      KOMGA_USERNAME:
        type: string
        title: "Username"
        description: "Komga authentication username"
        examples:
          - "admin@example.com"
          - "your-username"
      KOMGA_PASSWORD:
        type: string
        title: "Password"
        description: "Komga authentication password"
        format: password
      KOMGA_LIBRARY:
        type: string
        title: "Library Filter"
        description: "Library name filter (partial match supported)"
        examples:
          - "academic"
          - "library"
          - "books"
  commandFunction: |-
    (config) => ({
      command: "npx",
      args: ["@sylweriusz/komga-book-search"],
      env: {
        KOMGA_URL: config.KOMGA_URL,
        KOMGA_USERNAME: config.KOMGA_USERNAME,
        KOMGA_PASSWORD: config.KOMGA_PASSWORD,
        KOMGA_LIBRARY: config.KOMGA_LIBRARY
      }
    })